<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√âTODO 360 PRO | PRIVADO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --azul: #003366; --cinza: #f8f9fa; }
        body { background: var(--cinza); font-family: 'Segoe UI', sans-serif; display: none; padding-bottom: 50px; }
        .card-clinico { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin: 15px auto; max-width: 600px; border-top: 8px solid var(--azul); }
        .etapa { display: none; }
        .ativa { display: block; }
        .grid-pulsos { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 20px; }
        .item-pulso { background: #fff; border: 1px solid #eee; padding: 12px; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; }
        .sigla { font-weight: 800; color: var(--azul); width: 45px; font-size: 1.1rem; }
        .btn-scale { font-size: 0.75rem; font-weight: bold; padding: 6px 3px; min-width: 35px; border: 1px solid #ddd; background: white; color: #666; }
        .btn-check:checked + .btn { background: var(--azul) !important; color: white !important; border-color: var(--azul) !important; }
        .btn-pro { background: var(--azul); color: white; width: 100%; padding: 16px; border-radius: 12px; border: none; font-weight: bold; margin-top: 25px; font-size: 1.1rem; }
    </style>
</head>
<body id="corpoApp">

    <div id="p1" class="etapa ativa container mt-4">
        <div class="card-clinico text-center">
            <h3 class="fw-bold mb-4" style="color:var(--azul)">M√âTODO 360 PRO</h3>
            <p class="text-muted">Prontu√°rio Cl√≠nico Digital</p>
            <input type="text" id="pacienteId" class="form-control form-control-lg mb-3" placeholder="ID do Paciente (Ex: MRO 5005)">
            <button class="btn-pro" onclick="ir(2)">INICIAR AVALIA√á√ÉO</button>
        </div>
    </div>

    <div id="p2" class="etapa container mt-4">
        <div class="card-clinico">
            <h5 class="fw-bold mb-3 border-bottom pb-2">Sa√∫de Mental & Sono</h5>
            <label class="small fw-bold mb-1">Ansiedade (GAD-7):</label>
            <select id="ans" class="form-select mb-3">
                <option value="0">0 - Ausente</option>
                <option value="1">1 - Leve</option>
                <option value="2">2 - Moderada</option>
                <option value="3">3 - Severa</option>
            </select>
            <label class="small fw-bold mb-1">Qualidade do Sono (IGI):</label>
            <select id="sono" class="form-select">
                <option value="0">Bom</option>
                <option value="1">M√©dio / Interrompido</option>
                <option value="2">Ruim / Ins√≥nia</option>
            </select>
            <button class="btn-pro" onclick="ir(3)">PR√ìXIMO: PULSOS</button>
        </div>
    </div>

    <div id="p3" class="etapa container mt-4">
        <div class="card-clinico">
            <h5 class="fw-bold mb-0 border-bottom pb-2">Exame dos 12 Pulsos</h5>
            <div class="grid-pulsos" id="listaPulsos"></div>
            <button class="btn-pro" onclick="ir(4)">PR√ìXIMO: L√çNGUA</button>
        </div>
    </div>

    <div id="p4" class="etapa container mt-4">
        <div class="card-clinico">
            <h5 class="fw-bold mb-3 border-bottom pb-2">An√°lise Visual da L√≠ngua</h5>
            <label class="small fw-bold mb-1">Cor Observada:</label>
            <select id="cor" class="form-select mb-3">
                <option value="Rosada">Rosada (Normal)</option>
                <option value="P√°lida">P√°lida (Vazio/Frio)</option>
                <option value="Vermelha">Vermelha (Calor)</option>
                <option value="Roxa">Roxa (Estase)</option>
            </select>
            <label class="small fw-bold mb-1">Saburra:</label>
            <select id="sab" class="form-select mb-4">
                <option value="Fina">Fina (Normal)</option>
                <option value="Grossa">Grossa (Humidade)</option>
                <option value="Sem saburra">Sem saburra</option>
            </select>
            <button class="btn-pro" onclick="finalizar()">GERAR RELAT√ìRIO FINAL</button>
        </div>
    </div>

    <div id="p5" class="etapa container mt-4">
        <div class="card-clinico">
            <h4 class="fw-bold text-success border-bottom pb-2">S√≠ntese Atendimento</h4>
            <div id="relatorio" class="mt-3 p-3 bg-light rounded" style="font-size: 0.95rem;"></div>
            <button class="btn-pro" onclick="location.reload()">NOVA CONSULTA</button>
        </div>
    </div>

    <script>
        const PIN_CORRETO = "1234";
        const tentativa = prompt("ACESSO RESTRITO\nDigite o PIN do Terapeuta:");
        
        if (tentativa === PIN_CORRETO) {
            document.getElementById('corpoApp').style.display = 'block';
        } else {
            alert("PIN Incorreto!");
            document.body.innerHTML = "<h2 style='text-align:center; margin-top:100px;'>üîí Acesso Bloqueado</h2>";
        }

        const meridianos = ["P", "IG", "BP", "E", "C", "ID", "R", "B", "CS", "TA", "F", "VB"];
        const grid = document.getElementById('listaPulsos');
        const niveis = ["---", "--", "-", "ok", "+", "++", "+++"];
        
        meridianos.forEach(m => {
            let botoes = niveis.map(n => `
                <input type="radio" class="btn-check" name="p_${m}" id="${m}_${n}" value="${n}" ${n==='ok'?'checked':''}>
                <label class="btn btn-outline-secondary btn-scale" for="${m}_${n}">${n}</label>
            `).join('');
            grid.innerHTML += `<div class="item-pulso"><span class="sigla">${m}</span><div class="btn-group btn-group-sm">${botoes}</div></div>`;
        });

        function ir(n) { 
            document.querySelectorAll('.etapa').forEach(e => e.classList.remove('ativa')); 
            document.getElementById('p' + n).classList.add('ativa'); 
            window.scrollTo(0,0);
        }

        function finalizar() {
            let altPulsos = [];
            meridianos.forEach(m => {
                let v = document.querySelector(`input[name="p_${m}"]:checked`).value;
                if(v !== 'ok') altPulsos.push(`<b>${m}:</b> ${v}`);
            });
            document.getElementById('relatorio').innerHTML = `
                <b>Paciente:</b> ${document.getElementById('pacienteId').value || 'MRO'}<br>
                <b>Altera√ß√µes:</b> ${altPulsos.join(' | ') || 'Pulsos Normais'}<br>
                <b>L√≠ngua:</b> ${document.getElementById('cor').value} / ${document.getElementById('sab').value}
            `;
            ir(5);
        }
    </script>
</body>
</html>
